version: 2

models:

  - name: int_Anet__aggregated
    description: Aggregated Achievement Network (ANET) export data to calculated each student's score on each assessment. Raw data file contains question level information (i.e. 1 row per question).

    config:
      materialized: view

  - name: int_Caaspp__1_filtered
    description: >
      CAASPP research file data for the State and all Santa Clara County entities filtered to only include results for the following Demographic IDs:
      - 1 - All Students
      - 128 - Reported Disabilities
      - 31 - Economic disadvantaged
      - 160 - EL (English learner)
      - 78 - Hispanic or Latino
      - 204 - Economically disadvantaged Hispanic or Latino

    config:
      materialized: view

  - name: int_Caaspp__2_unpivoted
    description: Unpivoted version of filtered CAASPP research file data per int_Caaspp__1_filtered description.

    config:
      materialized: table

    columns:
      - name: "CountyCode || '-' || DistrictCode || '-' || SchoolCode || '-' || TestYear || '-' || DemographicId || '-' || GradeLevel || '-' || TestId || '-' || AssessmentObjective || '-' || ReportingMethod"
        description: No true primary key, but combination of these columns should be unique
        tests:
          - unique

  - name: int_Cast__1_filtered
    description: >
      CAST research file data for the State and all Santa Clara County entities filtered to only include results for grade level 5 or higher the following Demographic IDs:
      - 1 - All Students
      - 128 - Reported Disabilities
      - 31 - Economic disadvantaged
      - 160 - EL (English learner)
      - 78 - Hispanic or Latino
      - 204 - Economically disadvantaged Hispanic or Latino

    config:
      materialized: view

  - name: int_Cast__2_unpivoted
    description: Unpivoted version of filtered CAST research file data per int_Cast__1_filtered description.

    config:
      materialized: table

    columns:
      - name: "CountyCode || '-' || DistrictCode || '-' || SchoolCode || '-' || TestYear || '-' || DemographicId || '-' || GradeLevel || '-' || TestId || '-' || AssessmentObjective || '-' || ReportingMethod"
        description: No true primary key, but combination of these columns should be unique
        tests:
          - unique

  - name: int_Cers__1_elpi_dfs_added
    description: CERS export data containing state summative and SBAC interim assessment results with EL Progress Indicator (for ELPAC) and DFS (for CAASPP) results calculated and added.

    config:
      materialized: view

  - name: int_Cers__2_unpivoted
    description: Unpivoted version of CERS export data per int_Cers__1_elpi_dfs_added description.

    config:
      materialized: view

  - name: int_Elpac__1_filtered
    description: >
      Summative ELPAC research file data for the State and all Santa Clara County entities filtered to only include results for grade level 5 or higher the following Student Group IDs:
      - 160 - All English learners - (All ELs) (Same as All Students (code 1) for ELPAC files)
      - 120 - ELs enrolled less than 12 months
      - 142 - ELs enrolled 12 months or more
      - 242 - EL - 1 year in program
      - 243 - EL - 2 years in program
      - 244 - EL - 3 years in program
      - 245 - EL - 4 years in program
      - 246 - EL - 5 years in program
      - 247 - EL - 6+ years in program

    config:
      materialized: table

  - name: int_Elpac__2_unpivoted
    description: Unpivoted version of filtered Summative ELPAC research file data per int_Elpac__1_filtered description.

    config:
      materialized: table

    columns:
      - name: "CountyCode || '-' || DistrictCode || '-' || SchoolCode || '-' || TestYear || '-' || StudentGroupId || '-' || GradeLevel || '-' || AssessmentType || '-' || AssessmentObjective || '-' || ReportingMethod"
        description: No true primary key, but combination of these columns should be unique
        tests:
          - unique

  - name: int_RenStar_unpivoted
    description: Unpivoted Renaissance Star export data for students tested at ACE.

    config:
      materialized: view

